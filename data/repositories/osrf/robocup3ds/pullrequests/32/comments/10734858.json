{"links": {"self": {"href": "data/repositories/osrf/robocup3ds/pullrequests/32/comments/10734858.json"}, "html": {"href": "#!/osrf/robocup3ds/pull-requests/32/_/diff#comment-10734858"}}, "parent": {"id": 10678534, "links": {"self": {"href": "data/repositories/osrf/robocup3ds/pullrequests/32/comments/10678534.json"}, "html": {"href": "#!/osrf/robocup3ds/pull-requests/32/_/diff#comment-10678534"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 32, "links": {"self": {"href": "data/repositories/osrf/robocup3ds/pullrequests/32.json"}, "html": {"href": "#!/osrf/robocup3ds/pull-requests/32"}}, "title": "jliang_model_7"}, "content": {"raw": "I have merged your pull request into jliang_model.\n\nThere are a few issues I notice:\n\n1. It seems that joint->SetAngle() in Robocup3dsPlugin.cc is deprecated, could you change it to something else? \n\n2. You need to set the iMin/iMax and cmdMax/cmdMin values for the PID below, by default they are all zeros, which is not what we want:\n\n```\n#!c++\n\n  protected: std::map<std::string, gazebo::common::PID>\n  hingeJointPIDMap =\n  {\n      {\"HeadYaw\", gazebo::common::PID(160, 160, 0)},\n      {\"HeadPitch\", gazebo::common::PID(160, 160, 0)},\n      {\"LShoulderPitch\", gazebo::common::PID(160, 160, 0)},\n      {\"LShoulderRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"LElbowYaw\", gazebo::common::PID(160, 160, 0)},\n      {\"LElbowRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"LHipYawPitch\", gazebo::common::PID(160, 160, 0)},\n      {\"LHipRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"LHipPitch\", gazebo::common::PID(400, 400, 0)},\n      {\"LKneePitch\", gazebo::common::PID(400, 400, 0)},\n      {\"LAnklePitch\", gazebo::common::PID(400, 400, 0)},\n      {\"LAnkleRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"RHipYawPitch\", gazebo::common::PID(160, 160, 0)},\n      {\"RHipRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"RHipPitch\", gazebo::common::PID(400, 400, 0)},\n      {\"RKneePitch\", gazebo::common::PID(400, 400, 0)},\n      {\"RAnklePitch\", gazebo::common::PID(400, 400, 0)},\n      {\"RAnkleRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"RShoulderPitch\", gazebo::common::PID(160, 160, 0)},\n      {\"RShoulderRoll\", gazebo::common::PID(160, 160, 0)},\n      {\"RElbowYaw\", gazebo::common::PID(160, 160, 0)},\n      {\"RElbowRoll\", gazebo::common::PID(160, 160, 0)}\n  };\n```\n", "markup": "markdown", "html": "<p>I have merged your pull request into jliang_model.</p>\n<p>There are a few issues I notice:</p>\n<ol>\n<li>\n<p>It seems that joint-&gt;SetAngle() in Robocup3dsPlugin.cc is deprecated, could you change it to something else? </p>\n</li>\n<li>\n<p>You need to set the iMin/iMax and cmdMax/cmdMin values for the PID below, by default they are all zeros, which is not what we want:</p>\n</li>\n</ol>\n<div class=\"codehilite language-c++\"><pre><span></span>  <span class=\"k\">protected</span><span class=\"o\">:</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">map</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"o\">&gt;</span>\n  <span class=\"n\">hingeJointPIDMap</span> <span class=\"o\">=</span>\n  <span class=\"p\">{</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;HeadYaw&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;HeadPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LShoulderPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LShoulderRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LElbowYaw&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LElbowRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LHipYawPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LHipRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LHipPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LKneePitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LAnklePitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;LAnkleRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RHipYawPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RHipRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RHipPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RKneePitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RAnklePitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RAnkleRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RShoulderPitch&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RShoulderRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RElbowYaw&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)},</span>\n      <span class=\"p\">{</span><span class=\"s\">&quot;RElbowRoll&quot;</span><span class=\"p\">,</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">common</span><span class=\"o\">::</span><span class=\"n\">PID</span><span class=\"p\">(</span><span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)}</span>\n  <span class=\"p\">};</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-10-13T03:21:33.699707+00:00", "user": {"display_name": "jasonzliang NA", "uuid": "{663c75f1-dde2-425c-aa25-68ad2f4eb5ec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B663c75f1-dde2-425c-aa25-68ad2f4eb5ec%7D"}, "html": {"href": "https://bitbucket.org/%7B663c75f1-dde2-425c-aa25-68ad2f4eb5ec%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:4f6d7230-9817-448e-8b0d-98cb3dd0821c/5b9c099e-6241-49a1-ba1d-fabcca24c6c3/128"}}, "nickname": "jasonzliang", "type": "user", "account_id": "557058:4f6d7230-9817-448e-8b0d-98cb3dd0821c"}, "updated_on": "2015-10-13T04:18:16.528980+00:00", "type": "pullrequest_comment", "id": 10734858}