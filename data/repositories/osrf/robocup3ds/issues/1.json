{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/robocup3ds.json"}, "html": {"href": "#!/osrf/robocup3ds"}, "avatar": {"href": "data/bytebucket.org/ravatar/{920a9983-6b31-4842-b414-a2a01bf8a4e6}ts=c_plus_plus"}}, "type": "repository", "name": "robocup3ds", "full_name": "osrf/robocup3ds", "uuid": "{920a9983-6b31-4842-b414-a2a01bf8a4e6}"}, "links": {"attachments": {"href": "data/repositories/osrf/robocup3ds/issues/1/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/robocup3ds/issues/1.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/robocup3ds/issues/1/watch"}, "comments": {"href": "data/repositories/osrf/robocup3ds/issues/1/comments_page=1.json"}, "html": {"href": "#!/osrf/robocup3ds/issues/1/integration_physics-test-segfaults"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/robocup3ds/issues/1/vote"}}, "reporter": {"display_name": "jasonzliang NA", "uuid": "{663c75f1-dde2-425c-aa25-68ad2f4eb5ec}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B663c75f1-dde2-425c-aa25-68ad2f4eb5ec%7D"}, "html": {"href": "https://bitbucket.org/%7B663c75f1-dde2-425c-aa25-68ad2f4eb5ec%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:4f6d7230-9817-448e-8b0d-98cb3dd0821c/5b9c099e-6241-49a1-ba1d-fabcca24c6c3/128"}}, "nickname": "jasonzliang", "type": "user", "account_id": "557058:4f6d7230-9817-448e-8b0d-98cb3dd0821c"}, "title": "INTEGRATION_physics test segfaults", "component": null, "votes": 0, "watches": 3, "content": {"raw": "To reproduce this error, build the plugin with the latest version of gazebo (from default branch) installed and run \"make test\". \r\n\r\nHere is the output:\r\n\r\n```\r\n#!c++\r\n\r\nRunning tests...\r\nTest project /home/jliang/Desktop/OSRF/robocup3ds/build\r\n      Start  1: UNIT_Effectors_TEST\r\n 1/14 Test  #1: UNIT_Effectors_TEST ................   Passed    0.59 sec\r\n      Start  2: check_UNIT_Effectors_TEST\r\n 2/14 Test  #2: check_UNIT_Effectors_TEST ..........   Passed    0.01 sec\r\n      Start  3: UNIT_Robocup3dsPlugin_TEST\r\n 3/14 Test  #3: UNIT_Robocup3dsPlugin_TEST .........   Passed    0.00 sec\r\n      Start  4: check_UNIT_Robocup3dsPlugin_TEST\r\n 4/14 Test  #4: check_UNIT_Robocup3dsPlugin_TEST ...   Passed    0.01 sec\r\n      Start  5: UNIT_GameState_TEST\r\n 5/14 Test  #5: UNIT_GameState_TEST ................   Passed    0.06 sec\r\n      Start  6: check_UNIT_GameState_TEST\r\n 6/14 Test  #6: check_UNIT_GameState_TEST ..........   Passed    0.01 sec\r\n      Start  7: UNIT_Perceptors_TEST\r\n 7/14 Test  #7: UNIT_Perceptors_TEST ...............   Passed    0.08 sec\r\n      Start  8: check_UNIT_Perceptors_TEST\r\n 8/14 Test  #8: check_UNIT_Perceptors_TEST .........   Passed    0.01 sec\r\n      Start  9: UNIT_Geometry_TEST\r\n 9/14 Test  #9: UNIT_Geometry_TEST .................   Passed    0.04 sec\r\n      Start 10: check_UNIT_Geometry_TEST\r\n10/14 Test #10: check_UNIT_Geometry_TEST ...........   Passed    0.01 sec\r\n      Start 11: UNIT_Server_TEST\r\n11/14 Test #11: UNIT_Server_TEST ...................   Passed    0.74 sec\r\n      Start 12: check_UNIT_Server_TEST\r\n12/14 Test #12: check_UNIT_Server_TEST .............   Passed    0.01 sec\r\n      Start 13: INTEGRATION_physics\r\n13/14 Test #13: INTEGRATION_physics ................***Exception: SegFault  0.96 sec\r\n      Start 14: check_INTEGRATION_physics\r\n14/14 Test #14: check_INTEGRATION_physics ..........   Passed    0.01 sec\r\n\r\n93% tests passed, 1 tests failed out of 14\r\n\r\nTotal Test time (real) =   2.54 sec\r\n\r\nThe following tests FAILED:\r\n\t 13 - INTEGRATION_physics (SEGFAULT)\r\nErrors while running CTest\r\nMakefile:137: recipe for target 'test' failed\r\nmake: *** [test] Error 8\r\n\r\n```\r\n\r\nHere is the gdb stack trace when running integration physics test:\r\n\r\n\r\n```\r\n#!c++\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from PhysicsTest\r\n[ RUN      ] PhysicsTest.Test1\r\n[Msg] Waiting for master.\r\n[New Thread 0x7fffd3fff700 (LWP 28242)]\r\n[New Thread 0x7fffd8fe7700 (LWP 28241)]\r\n[New Thread 0x7fffd97e8700 (LWP 28240)]\r\n[New Thread 0x7fffda6cb700 (LWP 28239)]\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 172.23.2.167\r\n[Wrn] [Event.cc:87] Warning: Deleteing a connection right after creation. Make sure to save the ConnectionPtr from a Connect call\r\n[Dbg] [ServerFixture.cc:169] ServerFixture load in 0.9 seconds, timeout after 600 seconds\r\n[Dbg] [ServerFixture.cc:118] ServerFixture::Unload\r\nAL lib: (WW) alcCloseDevice: Releasing context 0x7fffd52947a0\r\n[New Thread 0x7fffa562c700 (LWP 28261)]\r\n[New Thread 0x7fffa5a2d700 (LWP 28260)]\r\n[New Thread 0x7fffa5e2e700 (LWP 28258)]\r\n[New Thread 0x7fffa622f700 (LWP 28259)]\r\n[New Thread 0x7fffa6630700 (LWP 28257)]\r\n[New Thread 0x7fffa6a31700 (LWP 28256)]\r\n[New Thread 0x7fffa6e32700 (LWP 28255)]\r\n[New Thread 0x7fffc17fa700 (LWP 28251)]\r\n[New Thread 0x7fffc1ffb700 (LWP 28250)]\r\n[New Thread 0x7fffc27fc700 (LWP 28249)]\r\n[New Thread 0x7fffc2ffd700 (LWP 28248)]\r\n[New Thread 0x7fffc37fe700 (LWP 28247)]\r\n[New Thread 0x7fffc3fff700 (LWP 28246)]\r\n[New Thread 0x7fffd0f0d700 (LWP 28245)]\r\n[New Thread 0x7fffd170e700 (LWP 28244)]\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7fffd97e8700 (LWP 28240)]\r\n0x00007ffff7303054 in gazebo::rendering::RenderEngine::Fini (this=this@entry=0x7ffff796de80 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>) at /home/jliang/Desktop/OSRF/gazebo/gazebo/rendering/RenderEngine.cc:353\r\n353\t  delete this->overlaySystem;\r\n(gdb) bt\r\n#0  0x00007ffff7303054 in gazebo::rendering::RenderEngine::Fini (this=this@entry=0x7ffff796de80 <SingletonT<gazebo::rendering::RenderEngine>::GetInstance()::t>) at /home/jliang/Desktop/OSRF/gazebo/gazebo/rendering/RenderEngine.cc:353\r\n#1  0x00007ffff7309d91 in gazebo::rendering::fini () at /home/jliang/Desktop/OSRF/gazebo/gazebo/rendering/RenderingIface.cc:66\r\n#2  0x00007ffff7716a56 in gazebo::sensors::fini () at /home/jliang/Desktop/OSRF/gazebo/gazebo/sensors/SensorsIface.cc:77\r\n#3  0x00007ffff79a4b58 in gazebo::shutdown () at /home/jliang/Desktop/OSRF/gazebo/gazebo/gazebo.cc:176\r\n#4  0x00007ffff7988713 in gazebo::Server::Run (this=0x7fffd40008c0) at /home/jliang/Desktop/OSRF/gazebo/gazebo/Server.cc:515\r\n#5  0x000000000044c1d2 in gazebo::ServerFixture::RunServer (this=0x77d710, _worldFilename=..., _paused=<optimized out>, _physics=..., _systemPlugins=...) at /home/jliang/Desktop/OSRF/gazebo/gazebo/test/ServerFixture.cc:242\r\n#6  0x00007ffff582509a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0\r\n#7  0x00007ffff7bc26aa in start_thread (arg=0x7fffd97e8700) at pthread_create.c:333\r\n#8  0x00007ffff490beed in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\r\n\r\n\r\n```\r\n\r\n", "markup": "markdown", "html": "<p>To reproduce this error, build the plugin with the latest version of gazebo (from default branch) installed and run \"make test\". </p>\n<p>Here is the output:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"n\">Running</span> <span class=\"n\">tests</span><span class=\"p\">...</span>\n<span class=\"n\">Test</span> <span class=\"n\">project</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">jliang</span><span class=\"o\">/</span><span class=\"n\">Desktop</span><span class=\"o\">/</span><span class=\"n\">OSRF</span><span class=\"o\">/</span><span class=\"n\">robocup3ds</span><span class=\"o\">/</span><span class=\"n\">build</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">1</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Effectors_TEST</span>\n <span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">1</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Effectors_TEST</span> <span class=\"p\">................</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.59</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Effectors_TEST</span>\n <span class=\"mi\">2</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Effectors_TEST</span> <span class=\"p\">..........</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">3</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Robocup3dsPlugin_TEST</span>\n <span class=\"mi\">3</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">3</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Robocup3dsPlugin_TEST</span> <span class=\"p\">.........</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.00</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">4</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Robocup3dsPlugin_TEST</span>\n <span class=\"mi\">4</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">4</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Robocup3dsPlugin_TEST</span> <span class=\"p\">...</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">5</span><span class=\"o\">:</span> <span class=\"n\">UNIT_GameState_TEST</span>\n <span class=\"mi\">5</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">5</span><span class=\"o\">:</span> <span class=\"n\">UNIT_GameState_TEST</span> <span class=\"p\">................</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.06</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">6</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_GameState_TEST</span>\n <span class=\"mi\">6</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">6</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_GameState_TEST</span> <span class=\"p\">..........</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">7</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Perceptors_TEST</span>\n <span class=\"mi\">7</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">7</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Perceptors_TEST</span> <span class=\"p\">...............</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.08</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Perceptors_TEST</span>\n <span class=\"mi\">8</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Perceptors_TEST</span> <span class=\"p\">.........</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span>  <span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Geometry_TEST</span>\n <span class=\"mi\">9</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span>  <span class=\"err\">#</span><span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Geometry_TEST</span> <span class=\"p\">.................</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.04</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span> <span class=\"mi\">10</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Geometry_TEST</span>\n<span class=\"mi\">10</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span> <span class=\"err\">#</span><span class=\"mi\">10</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Geometry_TEST</span> <span class=\"p\">...........</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span> <span class=\"mi\">11</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Server_TEST</span>\n<span class=\"mi\">11</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span> <span class=\"err\">#</span><span class=\"mi\">11</span><span class=\"o\">:</span> <span class=\"n\">UNIT_Server_TEST</span> <span class=\"p\">...................</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.74</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span> <span class=\"mi\">12</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Server_TEST</span>\n<span class=\"mi\">12</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span> <span class=\"err\">#</span><span class=\"mi\">12</span><span class=\"o\">:</span> <span class=\"n\">check_UNIT_Server_TEST</span> <span class=\"p\">.............</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span> <span class=\"mi\">13</span><span class=\"o\">:</span> <span class=\"n\">INTEGRATION_physics</span>\n<span class=\"mi\">13</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span> <span class=\"err\">#</span><span class=\"mi\">13</span><span class=\"o\">:</span> <span class=\"n\">INTEGRATION_physics</span> <span class=\"p\">................</span><span class=\"o\">***</span><span class=\"nl\">Exception</span><span class=\"p\">:</span> <span class=\"n\">SegFault</span>  <span class=\"mf\">0.96</span> <span class=\"n\">sec</span>\n      <span class=\"n\">Start</span> <span class=\"mi\">14</span><span class=\"o\">:</span> <span class=\"n\">check_INTEGRATION_physics</span>\n<span class=\"mi\">14</span><span class=\"o\">/</span><span class=\"mi\">14</span> <span class=\"n\">Test</span> <span class=\"err\">#</span><span class=\"mi\">14</span><span class=\"o\">:</span> <span class=\"n\">check_INTEGRATION_physics</span> <span class=\"p\">..........</span>   <span class=\"n\">Passed</span>    <span class=\"mf\">0.01</span> <span class=\"n\">sec</span>\n\n<span class=\"mi\">93</span><span class=\"o\">%</span> <span class=\"n\">tests</span> <span class=\"n\">passed</span><span class=\"p\">,</span> <span class=\"mi\">1</span> <span class=\"n\">tests</span> <span class=\"n\">failed</span> <span class=\"n\">out</span> <span class=\"n\">of</span> <span class=\"mi\">14</span>\n\n<span class=\"n\">Total</span> <span class=\"n\">Test</span> <span class=\"n\">time</span> <span class=\"p\">(</span><span class=\"n\">real</span><span class=\"p\">)</span> <span class=\"o\">=</span>   <span class=\"mf\">2.54</span> <span class=\"n\">sec</span>\n\n<span class=\"n\">The</span> <span class=\"n\">following</span> <span class=\"n\">tests</span> <span class=\"nl\">FAILED</span><span class=\"p\">:</span>\n     <span class=\"mi\">13</span> <span class=\"o\">-</span> <span class=\"n\">INTEGRATION_physics</span> <span class=\"p\">(</span><span class=\"n\">SEGFAULT</span><span class=\"p\">)</span>\n<span class=\"n\">Errors</span> <span class=\"k\">while</span> <span class=\"n\">running</span> <span class=\"n\">CTest</span>\n<span class=\"nl\">Makefile</span><span class=\"p\">:</span><span class=\"mi\">137</span><span class=\"o\">:</span> <span class=\"n\">recipe</span> <span class=\"k\">for</span> <span class=\"n\">target</span> <span class=\"err\">&#39;</span><span class=\"n\">test</span><span class=\"err\">&#39;</span> <span class=\"n\">failed</span>\n<span class=\"nl\">make</span><span class=\"p\">:</span> <span class=\"o\">***</span> <span class=\"p\">[</span><span class=\"n\">test</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"mi\">8</span>\n</pre></div>\n\n\n<p>Here is the gdb stack trace when running integration physics test:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"p\">[</span><span class=\"o\">==========</span><span class=\"p\">]</span> <span class=\"n\">Running</span> <span class=\"mi\">1</span> <span class=\"n\">test</span> <span class=\"n\">from</span> <span class=\"mi\">1</span> <span class=\"n\">test</span> <span class=\"k\">case</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"o\">----------</span><span class=\"p\">]</span> <span class=\"n\">Global</span> <span class=\"n\">test</span> <span class=\"n\">environment</span> <span class=\"n\">set</span><span class=\"o\">-</span><span class=\"n\">up</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"o\">----------</span><span class=\"p\">]</span> <span class=\"mi\">1</span> <span class=\"n\">test</span> <span class=\"n\">from</span> <span class=\"n\">PhysicsTest</span>\n<span class=\"p\">[</span> <span class=\"n\">RUN</span>      <span class=\"p\">]</span> <span class=\"n\">PhysicsTest</span><span class=\"p\">.</span><span class=\"n\">Test1</span>\n<span class=\"p\">[</span><span class=\"n\">Msg</span><span class=\"p\">]</span> <span class=\"n\">Waiting</span> <span class=\"k\">for</span> <span class=\"n\">master</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffd3fff700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28242</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffd8fe7700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28241</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffd97e8700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28240</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffda6cb700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28239</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">Msg</span><span class=\"p\">]</span> <span class=\"n\">Connected</span> <span class=\"n\">to</span> <span class=\"n\">gazebo</span> <span class=\"n\">master</span> <span class=\"err\">@</span> <span class=\"nl\">http</span><span class=\"p\">:</span><span class=\"c1\">//127.0.0.1:11345</span>\n<span class=\"p\">[</span><span class=\"n\">Msg</span><span class=\"p\">]</span> <span class=\"n\">Publicized</span> <span class=\"nl\">address</span><span class=\"p\">:</span> <span class=\"mf\">172.23.2.167</span>\n<span class=\"p\">[</span><span class=\"n\">Wrn</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">Event</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">87</span><span class=\"p\">]</span> <span class=\"nl\">Warning</span><span class=\"p\">:</span> <span class=\"n\">Deleteing</span> <span class=\"n\">a</span> <span class=\"n\">connection</span> <span class=\"n\">right</span> <span class=\"n\">after</span> <span class=\"n\">creation</span><span class=\"p\">.</span> <span class=\"n\">Make</span> <span class=\"n\">sure</span> <span class=\"n\">to</span> <span class=\"n\">save</span> <span class=\"n\">the</span> <span class=\"n\">ConnectionPtr</span> <span class=\"n\">from</span> <span class=\"n\">a</span> <span class=\"n\">Connect</span> <span class=\"n\">call</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">ServerFixture</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">169</span><span class=\"p\">]</span> <span class=\"n\">ServerFixture</span> <span class=\"n\">load</span> <span class=\"n\">in</span> <span class=\"mf\">0.9</span> <span class=\"n\">seconds</span><span class=\"p\">,</span> <span class=\"n\">timeout</span> <span class=\"n\">after</span> <span class=\"mi\">600</span> <span class=\"n\">seconds</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">ServerFixture</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">118</span><span class=\"p\">]</span> <span class=\"n\">ServerFixture</span><span class=\"o\">::</span><span class=\"n\">Unload</span>\n<span class=\"n\">AL</span> <span class=\"nl\">lib</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">WW</span><span class=\"p\">)</span> <span class=\"nl\">alcCloseDevice</span><span class=\"p\">:</span> <span class=\"n\">Releasing</span> <span class=\"n\">context</span> <span class=\"mh\">0x7fffd52947a0</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa562c700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28261</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa5a2d700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28260</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa5e2e700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28258</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa622f700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28259</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa6630700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28257</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa6a31700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28256</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffa6e32700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28255</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffc17fa700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28251</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffc1ffb700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28250</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffc27fc700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28249</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffc2ffd700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28248</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffc37fe700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28247</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffc3fff700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28246</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffd0f0d700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28245</span><span class=\"p\">)]</span>\n<span class=\"p\">[</span><span class=\"n\">New</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffd170e700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28244</span><span class=\"p\">)]</span>\n\n<span class=\"n\">Program</span> <span class=\"n\">received</span> <span class=\"n\">signal</span> <span class=\"n\">SIGSEGV</span><span class=\"p\">,</span> <span class=\"n\">Segmentation</span> <span class=\"n\">fault</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"n\">Switching</span> <span class=\"n\">to</span> <span class=\"n\">Thread</span> <span class=\"mh\">0x7fffd97e8700</span> <span class=\"p\">(</span><span class=\"n\">LWP</span> <span class=\"mi\">28240</span><span class=\"p\">)]</span>\n<span class=\"mh\">0x00007ffff7303054</span> <span class=\"n\">in</span> <span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">rendering</span><span class=\"o\">::</span><span class=\"n\">RenderEngine</span><span class=\"o\">::</span><span class=\"n\">Fini</span> <span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">=</span><span class=\"k\">this</span><span class=\"err\">@</span><span class=\"n\">entry</span><span class=\"o\">=</span><span class=\"mh\">0x7ffff796de80</span> <span class=\"o\">&lt;</span><span class=\"n\">SingletonT</span><span class=\"o\">&lt;</span><span class=\"n\">gazebo</span><span class=\"o\">::</span><span class=\"n\">rendering</span><span class=\"o\">::</span><span class=\"n\">RenderEngine</span><span class=\"o\">&gt;::</span><span class=\"n\">GetInstance</span><span class=\"p\">()</span><span class=\"o\">::</span><span class=\"n\">t</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"n\">at</span> <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">jliang</span><span class=\"o\">/</span><span class=\"n\">Desktop</span><span class=\"o\">/</span><span class=\"n\">OSRF</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">rendering</span><span class=\"o\">/</span><span class=\"n\">RenderEngine</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">353</span>\n<span class=\"mi\">353</span>   <span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">overlaySystem</span><span class=\"p\">;</span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span> <span class=\"n\">bt</span>\n<span class=\"cp\">#0  0x00007ffff7303054 in gazebo::rendering::RenderEngine::Fini (this=this@entry=0x7ffff796de80 &lt;SingletonT&lt;gazebo::rendering::RenderEngine&gt;::GetInstance()::t&gt;) at /home/jliang/Desktop/OSRF/gazebo/gazebo/rendering/RenderEngine.cc:353</span>\n<span class=\"cp\">#1  0x00007ffff7309d91 in gazebo::rendering::fini () at /home/jliang/Desktop/OSRF/gazebo/gazebo/rendering/RenderingIface.cc:66</span>\n<span class=\"cp\">#2  0x00007ffff7716a56 in gazebo::sensors::fini () at /home/jliang/Desktop/OSRF/gazebo/gazebo/sensors/SensorsIface.cc:77</span>\n<span class=\"cp\">#3  0x00007ffff79a4b58 in gazebo::shutdown () at /home/jliang/Desktop/OSRF/gazebo/gazebo/gazebo.cc:176</span>\n<span class=\"cp\">#4  0x00007ffff7988713 in gazebo::Server::Run (this=0x7fffd40008c0) at /home/jliang/Desktop/OSRF/gazebo/gazebo/Server.cc:515</span>\n<span class=\"cp\">#5  0x000000000044c1d2 in gazebo::ServerFixture::RunServer (this=0x77d710, _worldFilename=..., _paused=&lt;optimized out&gt;, _physics=..., _systemPlugins=...) at /home/jliang/Desktop/OSRF/gazebo/gazebo/test/ServerFixture.cc:242</span>\n<span class=\"cp\">#6  0x00007ffff582509a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0</span>\n<span class=\"cp\">#7  0x00007ffff7bc26aa in start_thread (arg=0x7fffd97e8700) at pthread_create.c:333</span>\n<span class=\"cp\">#8  0x00007ffff490beed in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-07-21T21:46:51.897374+00:00", "milestone": null, "updated_on": "2015-08-04T01:32:22.100989+00:00", "type": "issue", "id": 1}