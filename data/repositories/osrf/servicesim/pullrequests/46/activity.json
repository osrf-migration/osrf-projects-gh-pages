{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57085383.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57085383"}}, "parent": {"id": 57085290, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57085290.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57085290"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Thanks!", "markup": "markdown", "html": "<p>Thanks!</p>", "type": "rendered"}, "created_on": "2018-02-22T21:20:26.093858+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-22T21:20:26.098875+00:00", "type": "pullrequest_comment", "id": 57085383}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57085290.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57085290"}}, "parent": {"id": 57084419, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57084419.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57084419"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Instructions here: #!/osrf/servicesim/wiki/Use%20Navigation", "markup": "markdown", "html": "<p>Instructions here: <a href=\"#!/osrf/servicesim/wiki/Use%20Navigation\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/servicesim/wiki/Use%20Navigation</a></p>", "type": "rendered"}, "created_on": "2018-02-22T21:19:18.031904+00:00", "user": {"display_name": "mikaelarguedas", "uuid": "{85949490-7d6b-4fd5-9d44-69f087bbe838}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D"}, "html": {"href": "https://bitbucket.org/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:7fdd80d3-bc91-4743-83b3-dfaf89946270/90150a0f-25c1-4190-a5ae-408a50b6f652/128"}}, "nickname": "mikaelarguedas", "type": "user", "account_id": "557058:7fdd80d3-bc91-4743-83b3-dfaf89946270"}, "updated_on": "2018-02-22T21:19:18.035976+00:00", "type": "pullrequest_comment", "id": 57085290}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57084419.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57084419"}}, "parent": {"id": 57083956, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57083956.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57083956"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Got it.\n\nHow about writing some instructions on how to use the example files, considering the debs are being used, and I look into the issue?", "markup": "markdown", "html": "<p>Got it.</p>\n<p>How about writing some instructions on how to use the example files, considering the debs are being used, and I look into the issue?</p>", "type": "rendered"}, "created_on": "2018-02-22T21:08:45.889596+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-22T21:08:45.893077+00:00", "type": "pullrequest_comment", "id": 57084419}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57083956.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57083956"}}, "parent": {"id": 57083138, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57083138.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57083138"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Not sure, if I remove the `servicebot` namespace from all the navigation related launchfile I can request the map but the transform still doesnt exist... trying to pin down the issue I just don't have much time to look into it.", "markup": "markdown", "html": "<p>Not sure, if I remove the <code>servicebot</code> namespace from all the navigation related launchfile I can request the map but the transform still doesnt exist... trying to pin down the issue I just don't have much time to look into it.</p>", "type": "rendered"}, "created_on": "2018-02-22T21:02:55.032560+00:00", "user": {"display_name": "mikaelarguedas", "uuid": "{85949490-7d6b-4fd5-9d44-69f087bbe838}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D"}, "html": {"href": "https://bitbucket.org/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:7fdd80d3-bc91-4743-83b3-dfaf89946270/90150a0f-25c1-4190-a5ae-408a50b6f652/128"}}, "nickname": "mikaelarguedas", "type": "user", "account_id": "557058:7fdd80d3-bc91-4743-83b3-dfaf89946270"}, "updated_on": "2018-02-22T21:02:55.035591+00:00", "type": "pullrequest_comment", "id": 57083956}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57083138.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57083138"}}, "parent": {"id": 57082346, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57082346.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57082346"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Ahh damn, what's the new prefix and what's the prefix they should have? I was able to use teleop fine, not sure how it is related.", "markup": "markdown", "html": "<p>Ahh damn, what's the new prefix and what's the prefix they should have? I was able to use teleop fine, not sure how it is related.</p>", "type": "rendered"}, "created_on": "2018-02-22T20:53:20.642687+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-22T20:53:20.651067+00:00", "type": "pullrequest_comment", "id": 57083138}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/57082346.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-57082346"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "I can confirm that this broke navigation.  Gazebo is now publishing prefixed tf frames for all the frames related to the diff drive and the navigation doesnt succeed to create a transform between odom and map anymore fo prevents the localization from initializing.", "markup": "markdown", "html": "<p>I can confirm that this broke navigation.  Gazebo is now publishing prefixed tf frames for all the frames related to the diff drive and the navigation doesnt succeed to create a transform between odom and map anymore fo prevents the localization from initializing.</p>", "type": "rendered"}, "created_on": "2018-02-22T20:44:54.354706+00:00", "user": {"display_name": "mikaelarguedas", "uuid": "{85949490-7d6b-4fd5-9d44-69f087bbe838}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D"}, "html": {"href": "https://bitbucket.org/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:7fdd80d3-bc91-4743-83b3-dfaf89946270/90150a0f-25c1-4190-a5ae-408a50b6f652/128"}}, "nickname": "mikaelarguedas", "type": "user", "account_id": "557058:7fdd80d3-bc91-4743-83b3-dfaf89946270"}, "updated_on": "2018-02-22T20:44:54.357832+00:00", "type": "pullrequest_comment", "id": 57082346}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "9501a7c7752e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/9501a7c7752e.json"}, "html": {"href": "#!/osrf/servicesim/commits/9501a7c7752e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0fe505c8f16d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/0fe505c8f16d.json"}, "html": {"href": "#!/osrf/servicesim/commits/0fe505c8f16d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-22T02:14:45.431425+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "9501a7c7752e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/9501a7c7752e.json"}, "html": {"href": "#!/osrf/servicesim/commits/9501a7c7752e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0fe505c8f16d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/0fe505c8f16d.json"}, "html": {"href": "#!/osrf/servicesim/commits/0fe505c8f16d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-22T02:14:31.688788+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "9501a7c7752e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/9501a7c7752e.json"}, "html": {"href": "#!/osrf/servicesim/commits/9501a7c7752e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0fe505c8f16d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/0fe505c8f16d.json"}, "html": {"href": "#!/osrf/servicesim/commits/0fe505c8f16d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-22T02:14:31.641128+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"approval": {"date": "2018-02-22T02:12:56.337726+00:00", "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "user": {"display_name": "mikaelarguedas", "uuid": "{85949490-7d6b-4fd5-9d44-69f087bbe838}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D"}, "html": {"href": "https://bitbucket.org/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:7fdd80d3-bc91-4743-83b3-dfaf89946270/90150a0f-25c1-4190-a5ae-408a50b6f652/128"}}, "nickname": "mikaelarguedas", "type": "user", "account_id": "557058:7fdd80d3-bc91-4743-83b3-dfaf89946270"}}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/56971335.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-56971335"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Works for me :+1:", "markup": "markdown", "html": "<p>Works for me :+1:</p>", "type": "rendered"}, "created_on": "2018-02-22T02:12:54.990065+00:00", "user": {"display_name": "mikaelarguedas", "uuid": "{85949490-7d6b-4fd5-9d44-69f087bbe838}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D"}, "html": {"href": "https://bitbucket.org/%7B85949490-7d6b-4fd5-9d44-69f087bbe838%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:7fdd80d3-bc91-4743-83b3-dfaf89946270/90150a0f-25c1-4190-a5ae-408a50b6f652/128"}}, "nickname": "mikaelarguedas", "type": "user", "account_id": "557058:7fdd80d3-bc91-4743-83b3-dfaf89946270"}, "updated_on": "2018-02-22T02:12:54.993505+00:00", "type": "pullrequest_comment", "id": 56971335}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/56955887.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-56955887"}}, "parent": {"id": 56843887, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/56843887.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-56843887"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "Now that pull request #55 has been merged, the head works for me on this branch too.", "markup": "markdown", "html": "<p>Now that <a href=\"#!/osrf/servicesim/pull-requests/55/added-slider-to-the-servicesim_perspective\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #55</a> has been merged, the head works for me on this branch too.</p>", "type": "rendered"}, "created_on": "2018-02-21T21:42:36.085540+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-21T21:42:36.090278+00:00", "type": "pullrequest_comment", "id": 56955887}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "40d23d09a68e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/40d23d09a68e.json"}, "html": {"href": "#!/osrf/servicesim/commits/40d23d09a68e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0fe505c8f16d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/0fe505c8f16d.json"}, "html": {"href": "#!/osrf/servicesim/commits/0fe505c8f16d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-21T21:17:49.172145+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46/comments/56843887.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46/_/diff#comment-56843887"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}, "content": {"raw": "@mikaelarguedas , I did some more testing with this and I get the teleop to work and everything to show up properly on RViz and rqt, except for the head, which is a problem for me even on default.\n\nThis approach is looking good to me. For the navigation, we could, in a future PR, publish the robot start pose from the competition plugin, as we talked about.", "markup": "markdown", "html": "<p>@mikaelarguedas , I did some more testing with this and I get the teleop to work and everything to show up properly on RViz and rqt, except for the head, which is a problem for me even on default.</p>\n<p>This approach is looking good to me. For the navigation, we could, in a future PR, publish the robot start pose from the competition plugin, as we talked about.</p>", "type": "rendered"}, "created_on": "2018-02-21T02:38:32.630807+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-02-21T02:38:32.638920+00:00", "type": "pullrequest_comment", "id": 56843887}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "c63b974a43dc", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/c63b974a43dc.json"}, "html": {"href": "#!/osrf/servicesim/commits/c63b974a43dc"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7f2bfaca4b2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/7f2bfaca4b2d.json"}, "html": {"href": "#!/osrf/servicesim/commits/7f2bfaca4b2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-21T02:27:25.272598+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "565fdbc9322d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/565fdbc9322d.json"}, "html": {"href": "#!/osrf/servicesim/commits/565fdbc9322d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4a5172a0f39a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/4a5172a0f39a.json"}, "html": {"href": "#!/osrf/servicesim/commits/4a5172a0f39a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-20T04:02:55.538601+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "4410cbf2a154", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/4410cbf2a154.json"}, "html": {"href": "#!/osrf/servicesim/commits/4410cbf2a154"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2686dd57529f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/2686dd57529f.json"}, "html": {"href": "#!/osrf/servicesim/commits/2686dd57529f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-19T19:58:58.349453+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}, {"update": {"description": "This builds on top of pull request #44\r\n\r\n### Motivation\r\n\r\nWe need to spawn the robot at a specific location in the world, and we also need to create a checkpoint on that location. It would also be nice to have that location automatically picked as the world file is generated.\r\n\r\nCurrently, the robot spawn coordinates are being passed to a `spawn_model` node on `servicesim.launch`, but the coordinates are being generated and passed to plugins on `service.world.erb`.\r\n\r\nThis pull request moves the spawn logic to the world SDF file so that the robot is spawned in the appropriate location without the need to keep multiple generated files in sync.\r\n\r\n### Approach\r\n\r\nTo find a model includes in the world using an `<include>` tag and a uri in the `model://robotname` format, Gazebo needs:\r\n\r\n1. To find a `model.config` file within one of the `<path>`s in `GAZEBO_MODEL_PATH`: `<path>/robotname/model.config`\r\n1. To find the meshes which take the format `model://...../*.obj` also within a `GAZEBO_MODEL_PATH`.\r\n\r\nSince the URDF parsing translates `package://servicebot_description/meshes` to `model://servicebot_description/meshes`, we need the parent directory of `servicebot_description` to be in the path to satisfy 2.\r\n\r\nSo we might as well also add our `model.config` file under `servicebot_description` because that will be in the path.\r\n\r\nSo:\r\n\r\n1. Add a `model.config` to the `*_description` package and point to the `urdf/*.urdf` model in `<sdf>`\r\n1. Pass the parent dir of `*_description` to `GAZEBO_MODEL_PATH`\r\n1. Include `model://*_description` in the SDF world", "title": "Include robot URDF into SDF world (remove spawn_model node)", "destination": {"commit": {"hash": "4410cbf2a154", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/4410cbf2a154.json"}, "html": {"href": "#!/osrf/servicesim/commits/4410cbf2a154"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2686dd57529f", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/servicesim/commit/2686dd57529f.json"}, "html": {"href": "#!/osrf/servicesim/commits/2686dd57529f"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/servicesim.json"}, "html": {"href": "#!/osrf/servicesim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f537f5a-62ec-4117-968f-73e9064ad028}ts=c_plus_plus"}}, "type": "repository", "name": "servicesim", "full_name": "osrf/servicesim", "uuid": "{3f537f5a-62ec-4117-968f-73e9064ad028}"}, "branch": {"name": "include_urdf"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2018-02-19T19:58:58.314039+00:00"}, "pull_request": {"type": "pullrequest", "id": 46, "links": {"self": {"href": "data/repositories/osrf/servicesim/pullrequests/46.json"}, "html": {"href": "#!/osrf/servicesim/pull-requests/46"}}, "title": "Include robot URDF into SDF world (remove spawn_model node)"}}]}